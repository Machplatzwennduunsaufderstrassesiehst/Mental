<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
    <div id="stage">

    </div>

<script src="js/utils/constants.js" type="text/javascript"></script>
<script src="js/utils/utils.js" type="text/javascript"></script>
<script src="js/utils/icons.js" type="text/javascript"></script>
<script src="js/utils/cookies.js" type="text/javascript"></script>
<script src="js/utils/commandSet.js" type="text/javascript"></script>
<script src="js/utils/communication.js" type="text/javascript"></script>
<script src="js/utils/generalObservers.js" type="text/javascript"></script>

<script src="js/player.js" type="text/javascript"></script>

<script src="js/engine/pixiv4.min.js" type="text/javascript"></script>
<script src="js/engine/graphics.js" type="text/javascript"></script>
<script src="js/engine/texture.js" type="text/javascript"></script>
<script src="js/engine/physics.js" type="text/javascript"></script>
    <script type="text/javascript">
        var graphics_;
        window.onload = function() {
            graphics_ = new engine.graphics.GameGraphics("stage");
            graphics_.resizeRenderer(window.innerWidth, window.innerHeight);
            engine.texture.addTexturePack("img/tgm/texturepacks/basicblue");
            engine.texture.loadTexturePacks(function() {
                var pack = engine.texture.getTexturePacks()[0];
                var train = new engine.graphics.GraphicObject(pack.createTextureFields("train"), pack.getAppearances("train"));
                var animation = pack.createAnimation("explosion");
                train.setPosition(100,100,5);
                setTimeout(function() {
                    train.setPosition(new engine.physics.Position(100,100,1));
                    train.getTextureFieldById("colorMask").tint = 0x00ff00;
                }, 3000);
                setTimeout(function() {
                    train.setPosition(new engine.physics.Position(100,100,2));
                    train.setAppearance("bomb");
                }, 4000);
                graphics_.addGraphicObject(train);
                graphics_.setStaticLayers(pack.getStaticLayers());
                graphics_.start();
                graphics_.playAnimation(animation, new engine.physics.Position(400,400));
                setTimeout(graphics_.stop, 10000);
            });
        }
    </script>
</body>
</html>